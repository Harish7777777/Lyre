{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>lyre</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="{% static "css/m1" %}">
    <link rel="stylesheet" href="{% static "css/m2" %}">
</head>

<body style="background: var(--bs-black);">
    <div class="container-fluid" style="background: #000000;">
        <div class="row">
            <div class="col"><img src="{% static 'img/lyre-low-resolution-logo-color-on-transparent-background.png' %}" style="width: 90px;height: 90px;" width="90" height="89"></div>
            <div class="col d-flex justify-content-sm-end" style="height: 50px;"><img src="{% static 'img/800px_COLOURBOX25634104.jpg' %}"></div>
        </div>
    </div>
    <div class="container">
        <div class="row justify-content-center features">
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img width="100" height="80" style="height: 100px;" src="{% static 'img/june%20ponal%20july%20katre.jpg'  %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img class="justify-content-md-end align-items-md-center" width="100" height="80" style="height: 100px;" src="{% static 'img/peaches.jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img width="100" height="80" style="height: 100px;" src="{% static 'img/rap%20god.jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img width="100" height="80" style="height: 100px;" src="{% static 'img/arjunaru%20villu.jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img width="100" height="80" style="height: 100px;" src="{% static 'img/after%20hours.jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/blindin%20lights.jpg' %}" width="92" height="100"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/die%20for%20you%20remix.jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/starboy.jpg' %}" width="95" height="100"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/falling.jpg' %}" width="91" height="100"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/One_Direction_-_Night_Changes_Single_Cover.png' %}"></div>
        </div>
        <div class="row justify-content-center features">
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img width="100" height="80" style="height: 100px;" src="{% static 'img/Unnale-Unnale.jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img class="justify-content-md-end align-items-md-center" width="100" height="80" style="height: 100px;" src="{% static '' %}img/smells%20like%20teen%20spirit.jpg"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img width="100" height="80" style="height: 100px;" src="{% static 'img/newyork%20nagaram.jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img width="100" height="80" style="height: 100px;" src="{% static 'img/Leo_(2023_Indian_film).jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img width="100" height="80" style="height: 100px;" src="{% static 'img/golden%20hours.jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/aasai%20oru%20pulveli.jpg' %}" width="92" height="100"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/cupid.jpg' %}"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/i%20wanna%20be%20youre.jpg' %}" width="95" height="100"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/kaarkuzhal%20kadavaye.jpg' %}" width="91" height="100"></div>
            <div class="col-sm-6 col-md-5 col-lg-4 item" style="width: 110px;height: 110px;"><img style="height: 100px;" src="{% static 'img/borderline%20poster.jpg' %}"></div>
        </div>
        <div class="d-flex justify-content-center h-100">
            <form id="search-form" action="{% url 'dataReq' %}" method="GET">
            <div class="searchbar">
                <input type="text" class="search_input" placeholder="Search..." name="q" id="search-input">
                <button class="search_icon" type="submit"><i class="fas fa-search"></i></button>
              
            </div>
        </form>
    </div>
    <div id="search-results" style="color:white"></div>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById("search-form").addEventListener("submit", searchSongs);

        function searchSongs(event) {
            event.preventDefault(); // prevent the form from submitting normally

            var query = document.getElementById("search-input").value;
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "/dataReq/?q=" + encodeURIComponent(query || ""), true);

            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    var results = JSON.parse(xhr.responseText);
                    console.log(results);
                    updateSearchResults(results);
                }
            };
            xhr.send();
        }

        function updateSearchResults(results) {
            var resultsDiv = document.getElementById("search-results");
            resultsDiv.innerHTML = ""; // clear any previous results
        
            for (var i = 0; i < results.length; i++) {
                var song = results[i];
                var songDiv = document.createElement("div");
                songDiv.innerHTML = "<h2>" + song.name + "</h2>";
        
                var audio = document.createElement("audio");
                audio.src = song.song; // Replace 'song.audioUrl' with the actual URL of your audio file
                audio.controls = true;
        
                songDiv.appendChild(audio);
                resultsDiv.appendChild(songDiv);
            }
        
            // Custom CSS for audio files
            var audioElements = resultsDiv.getElementsByTagName("audio");
            for (var j = 0; j < audioElements.length; j++) {
                var audioElement = audioElements[j];
                audioElement.style.width = "100%"; // Set the width to 100% or any desired value
                audioElement.style.marginTop = "10px"; // Add any desired margin
                // Add more custom styles as needed
            }
        }
        
    </script>
</body>

</html>